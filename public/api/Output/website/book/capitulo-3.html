<html >
	<head>
		<title>API CIUM </title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="charset" content="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<!-- Latest compiled and minified CSS -->
		  
			<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
			<link rel="stylesheet" href="./css/styles.css" />  
			<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
				
					<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
			<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
			<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
			<!-- Latest compiled and minified JavaScript -->
			<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
			<script charset="utf-8">
			$(document).ready(function () {
			  $("body").on("click",".btn-main-menu",function(e) {
				e.preventDefault();
				$("#wrapper").toggleClass("toggled");
			  });
			  $(".btn-datagrid-row-mostrar-opciones").on('click', function(e){
				e.preventDefault();

				$(this).toggleClass('btn-primary');
				$(this).parent().find('.btn-group').eq(0).toggleClass('hidden-xs');
			  });
			});
			</script>
		
		<link rel="shortcut icon" href="./images/favicon-cium.ico" />
	</head>
	<body>
	

	<nav class="navbar navbar-default navbar-fixed-top top-bar">
    <div class="container-fluid">
      <div class="navbar-header" style="margin-right:20pt;width: 208px;">
		<a href="./index.html" class="navbar-brand"><img alt="Home" src="./images/icono-cium-blue.png" style="top:0px; margin-top:-5px; height:34px; float:left; ">API CIUM</a>
      </div>
      <ul class="nav navbar-nav">
		<li class="">
		  <a>Manual de usuario <i class="fa fa-caret-right"></i></a>
		</li>
		<li class="active">
		  <a href="">Sistema</a>
		</li>
	  </ul>
      <ul class="nav navbar-nav navbar-right">
        				<li><a  href="./capitulo-2.html">&larr; Anterior </a></li>
			
							<li><a href="./capitulo-4.html">Siguiente &rarr; </a></li>
			      </ul>
    </div>
  </nav>

	<div id="wrapper" class="" >
	
		
<!-- Sidebar -->
    <aside id="sidebar-wrapper">
      <ul class="sidebar-nav nav">
        
        <li>
          <a href="index.html"><i class="fa fa-dashboard"></i> Dashboard</a>
        </li>
															
				<li class="">
					<a href="./capitulo-1.html" ><i class="fa fa-book"></i> Introducción </a>				  
					<ul id="chunk_toc" class='nav collapse submenu in'  aria-expanded="true">		
						
												
													
					</ul>
					
				</li>
													
				<li class="">
					<a href="./capitulo-2.html" ><i class="fa fa-book"></i> Catálogos </a>				  
					<ul id="chunk_toc" class='nav collapse submenu in'  aria-expanded="true">		
						
												
													
					</ul>
					
				</li>
													
				<li class="active">
					<a href="./capitulo-3.html" ><i class="fa fa-book"></i> Sistema </a>				  
					<ul id="chunk_toc" class='nav collapse submenu in'  aria-expanded="true">		
						
																																												<li><a href="./capitulo-3.html#grupo"><i class="fa fa-file"></i> Grupo</a></li>
																															<li><a href="./capitulo-3.html#modulo"><i class="fa fa-file"></i> Modulo</a></li>
																															<li><a href="./capitulo-3.html#usuario"><i class="fa fa-file"></i> Usuario</a></li>
																						
												
													
					</ul>
					
				</li>
													
				<li class="">
					<a href="./capitulo-4.html" ><i class="fa fa-book"></i> Evaluaciones </a>				  
					<ul id="chunk_toc" class='nav collapse submenu in'  aria-expanded="true">		
						
												
													
					</ul>
					
				</li>
		 
				  
        
      </ul>
	  
    </aside>
<!-- /#sidebar-wrapper -->
		
    <!-- Page Content -->
    <div id="page-content-wrapper">
      <div class="container-fluid">
        <div class="row">
          <div class="col-lg-12">
            <br>
            <div class="panel panel-default">
              <div class="panel-heading">
                <h1 class="panel-title"><i class="fa fa-bookmark"></i> <span>Capítulo 3</span>  </h1>
              </div>
              <div class="panel-body" >
                
				
    <h1 id="sistema"> Sistema</h1>
    <p style="text-align: justify;">
En este apartado esta todo lo relacionado con el usuario, roles y permisos. se pueden configurara permisos por acción lo que hace mas seguro y mas robusto el modelo de permisos.
<br/>
Todos las peticiones se hacen via http con las cabeceras que se explicaron en el capitulo 1. 
<br/>
Aca un ejemplo de como hacer una peticion http con cURL de PHP
</p>

<p>Ejemplo cURL (PHP)</p>

<pre><code>&lt;?php
    //cabeceras incluidas en la petición necesarias para el acceso a la API
    $headers = array(
        "Content-type: application/json;charset=\"utf-8\"",
        "Accept: application/json",
        "Cache-Control: no-cache",
        "Pragma: no-cache",
        "Authorization: Bearer yTl379mxyVpGgmjREZs6UF9p6VILca4e33WN8wtd",
        "X-Usuario: ramirez.esquinca@gmail.com"
    );

    // url en el caso de PUT, DELETE y GET(show) agregar el parametro /{id}
    $url = "http://187.217.219.55/cium/api/v1/Accion";

    // Metodo para el llamado de la url,
    $metodo = array("POST","GET","PUT","DELETE");

    $ch = curl_init();
    curl_setopt($ch, CURLOPT_URL,$url);
    curl_setopt($ch, CURLOPT_HTTPHEADER, $headers);
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
    curl_setopt($ch, CURLOPT_TIMEOUT, 60);
    curl_setopt($ch, CURLOPT_CUSTOMREQUEST, $metodo[0]);

    //para los metodos PUT y POST que envian json
    if(count($json_data)&gt;0){
        curl_setopt($ch, CURLOPT_POST, 1);
        curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($json_data));  
    }

    $datos = curl_exec($ch); 
    // si existe error retornarlo en caso contrario regresar el valor devuelto de la API
    if (curl_errno($ch)) {
        return curl_errno($ch);
    }else {
        curl_close($ch);
        return $datos;
    }
?&gt;
</code></pre>

<h2 id="grupo">3.1 Grupo</h2>

<p style="text-align: justify;">
Grupo creacion y administracion de los gurpos y configuracion de las acceso a modulos por accion. 
</p>

<p><HR></p>

<h3 id="get-index-10">3.1.1 GET (INDEX)</h3>

<p>Muestra una lista de los grupos según los parámetros a procesar en la petición.</p>

<p>Parametros</p>

<dl>
<dt>Paginación</dt>
<dd>
<p><kbd>$pagina</kbd> número del puntero(offset) para la sentencia limit</p>
</dd>

<dd>
<p><kbd>$limite</kbd> número de filas a mostrar por página</p>
</dd>

<dt>Busqueda</dt>
<dd>
<p><kbd>$valor</kbd> string con el valor para hacer la busqueda</p>
</dd>

<dd>
<p><kbd>$order</kbd> campo de la base de datos por la que se debe ordenar la información. Por Defaul es ASC, pero si se antepone el signo - es de manera DESC</p>
</dd>
</dl>

<p>Petición</p>

<p><CODE>MÉTODO GET</CODE> <a href="http://187.217.219.55/cium/api/v1/Grupo"><em>http://187.217.219.55/cium/api/v1/Grupo</em></a></p>

<blockquote>
  <p><strong>Petición con parametros:</strong></p>
  
  <ul>
  <li><p><a href="http://187.217.219.55/cium/api/v1/Grupo?pagina=1&amp;limite=5&amp;order=id"><em>http://187.217.219.55/cium/api/v1/Grupo?pagina=1&amp;limite=5&amp;order=id</em></a> orden ASC</p></li>
  <li><p><a href="http://187.217.219.55/cium/api/v1/Grupo?pagina=1&amp;limite=5&amp;order=-id"><em>http://187.217.219.55/cium/api/v1/Grupo?pagina=1&amp;limite=5&amp;order=-id</em></a> orden DESC</p></li>
  </ul>
</blockquote>

<p>Respuesta:</p>

<pre><code>{
    "status": 200,
    "messages": "Operación realizada con exito",
    "data": [
        {
          "id": 1,
          "name": "Admin",
          "permissions": {
                "IndicadorController.index": 1,
                "IndicadorController.show": 1,
                "IndicadorController.store": 1,
                "IndicadorController.update": 1,
                "IndicadorController.destroy": 1
            }
        }
    ],
    "total": 1
}
</code></pre>

<blockquote>
  <p><strong>Nota</strong></p>
  
  <ul>
  <li><code>status</code> Estado de la petición </li>
  <li><code>messages</code> Mensaje de confirmacion o error</li>
  <li><code>data</code> Objeto con todos los resultados</li>
  <li><code>total</code> Total de registros devueltos</li>
  <li><code>permissions</code> Objeto con las acciones por modulo</li>
  </ul>
</blockquote>

<p><HR></p>

<h3 id="get-id-show-10">3.1.2 GET/ {ID} (SHOW)</h3>

<p>Devuelve la información del registro especificado.</p>

<p>Petición</p>

<p><CODE>MÉTODO GET</CODE> <a href="http://187.217.219.55/cium/api/v1/Grupo/%7bID%7d"><em>http://187.217.219.55/cium/api/v1/Grupo/{ID}</em></a></p>

<blockquote>
  <p><strong>Ejemplo Obtener los datos del registro con id = 1</strong></p>
  
  <ul>
  <li><a href="http://187.217.219.55/cium/api/v1/Grupo/1"><em>http://187.217.219.55/cium/api/v1/Grupo/1</em></a> </li>
  </ul>
</blockquote>

<p>Respuesta</p>

<pre><code>{
    "status": 200,
    "messages": "Operación realizada con exito",
    "data": {
        "id": 1,
        "name": "Admin",
        "permissions": {
            "IndicadorController.index": 1,
            "IndicadorController.show": 1,
            "IndicadorController.store": 1,
            "IndicadorController.update": 1,
            "IndicadorController.destroy": 1
        }
    }
}
</code></pre>

<blockquote>
  <p><strong>Nota</strong></p>
  
  <ul>
  <li><code>status</code> Estado de la petición </li>
  <li><code>messages</code> Mensaje de confirmacion o error</li>
  <li><code>data</code> Objeto con todos los resultados</li>
  </ul>
</blockquote>

<p><HR></p>

<h3 id="post-store-9">3.1.3 POST (STORE)</h3>

<p>Crear un nuevo registro en la base de datos con los datos enviados</p>

<p>REQUEST (SEND)</p>

<p>Recibe un input request tipo json de los datos a almacenar.</p>

<pre><code>{
    "id": 1,
    "name": "Admin",
    "permissions": {
        "IndicadorController.index": 1,
        "IndicadorController.show": 1,
        "IndicadorController.store": 1,
        "IndicadorController.update": 1,
        "IndicadorController.destroy": 1
    }
}
</code></pre>

<p>Petición</p>

<p><CODE>MÉTODO POST</CODE> <a href="http://187.217.219.55/cium/api/v1/Grupo"><em>http://187.217.219.55/cium/api/v1/Grupo</em></a></p>

<p>Respuesta</p>

<pre><code>{
    "status": 201,
    "messages": "Creado",
    "data": {
        "id": 1,
        "name": "Admin",
        "permissions": {
            "IndicadorController.index": 1,
            "IndicadorController.show": 1,
            "IndicadorController.store": 1,
            "IndicadorController.update": 1,
            "IndicadorController.destroy": 1
        },
        "creadoAl": "2015-10-11  00:00:00",
        "modificadoAl": "2015-10-11  00:00:00",
        "borradoAl": null
    }
}
</code></pre>

<blockquote>
  <p><strong>Nota</strong></p>
  
  <ul>
  <li><code>status</code> Estado de la petición </li>
  <li><code>messages</code> Mensaje de confirmacion o error</li>
  <li><code>data</code> Objeto con todos los resultados</li>
  </ul>
</blockquote>

<p><HR></p>

<h3 id="put-id-update-9">3.1.4 PUT/{ID} (UPDATE)</h3>

<p>Actualizar el registro especificado en el la base de datos</p>

<p>REQUEST (SEND)</p>

<p>Recibe un Input Request con el json de los datos</p>

<pre><code>{
    "id": 1,
    "name": "Admin",
    "creadoAl": "2015-10-11  00:00:00",
    "modificadoAl": "2015-10-11  00:00:00",
    "borradoAl": null,
    "permissions": {
        "IndicadorController.index": 1,
        "IndicadorController.show": 1,
        "IndicadorController.store": 1,
        "IndicadorController.update": 1,
        "IndicadorController.destroy": 1
    }
}
</code></pre>

<p>Petición</p>

<p><CODE>MÉTODO PUT</CODE> <a href="http://187.217.219.55/cium/api/v1/Grupo/%7bID%7d"><em>http://187.217.219.55/cium/api/v1/Grupo/{ID}</em></a></p>

<blockquote>
  <p><strong>Ejemplo actualizar el registro con id 1</strong></p>
  
  <ul>
  <li><a href="http://187.217.219.55/cium/api/v1/Grupo/1"><em>http://187.217.219.55/cium/api/v1/Grupo/1</em></a></li>
  </ul>
</blockquote>

<p>Respuesta</p>

<pre><code>{
    "status": 200,
    "messages": "Operación realizada con exito",
    "data": {
        "id": 1,
        "name": "Admin",
        "permissions": {
            "IndicadorController.index": 1,
            "IndicadorController.show": 1,
            "IndicadorController.store": 1,
            "IndicadorController.update": 1,
            "IndicadorController.destroy": 1
        },
        "creadoAl": "2015-10-11  00:00:00",
        "modificadoAl": "2015-10-11  00:00:00",
        "borradoAl": null
    }
}
</code></pre>

<blockquote>
  <p><strong>Nota</strong></p>
  
  <ul>
  <li><code>status</code> Estado de la petición </li>
  <li><code>messages</code> Mensaje de confirmacion o error</li>
  <li><code>data</code> Objeto con todos los resultados</li>
  </ul>
</blockquote>

<p><HR></p>

<h3 id="delete-id-delete-9">3.1.5 DELETE/{ID} (DELETE)</h3>

<p>Borra el registro especificado en el la base de datos</p>

<p>Petición</p>

<p><CODE>MÉTODO DELETE</CODE> <a href="http://187.217.219.55/cium/api/v1/Grupo/%7bID%7d"><em>http://187.217.219.55/cium/api/v1/Grupo/{ID}</em></a></p>

<blockquote>
  <p><strong>Ejemplo eliminar el registro con id 1</strong></p>
  
  <ul>
  <li><a href="http://187.217.219.55/cium/api/v1/Grupo/1"><em>http://187.217.219.55/cium/api/v1/Grupo/1</em></a></li>
  </ul>
</blockquote>

<p>Respuesta</p>

<pre><code>{
    "status": 200,
    "messages": "Operación realizada con exito",
    "data": {
        "id": 1,
        "name": "Admin",
        "permissions": {
            "IndicadorController.index": 1,
            "IndicadorController.show": 1,
            "IndicadorController.store": 1,
            "IndicadorController.update": 1,
            "IndicadorController.destroy": 1
        },
        "creadoAl": "2015-10-11  00:00:00",
        "modificadoAl": "2015-10-11  00:00:00",
        "borradoAl": "2015-10-11 16:19:03"
    }
}
</code></pre>

<blockquote>
  <p><strong>Nota</strong></p>
  
  <ul>
  <li><code>status</code> Estado de la petición </li>
  <li><code>messages</code> Mensaje de confirmacion o error</li>
  <li><code>data</code> Objeto con todos los resultados</li>
  </ul>
</blockquote>

<hr>

<hr>

<h2 id="modulo">3.2 Modulo</h2>

<p style="text-align: justify;">
SysModulo administra los modulos y controladores de laravel para crear las acciones por modulo, se usa para generar los permisos por grupo. 
</p>

<p><HR></p>

<h3 id="get-index-11">3.2.1 GET (INDEX)</h3>

<p>Muestra una lista de los modulos según los parámetros a procesar en la petición.</p>

<p>Parametros</p>

<dl>
<dt>Paginación</dt>
<dd>
<p><kbd>$pagina</kbd> número del puntero(offset) para la sentencia limit</p>
</dd>

<dd>
<p><kbd>$limite</kbd> número de filas a mostrar por página</p>
</dd>

<dt>Busqueda</dt>
<dd>
<p><kbd>$valor</kbd> string con el valor para hacer la busqueda</p>
</dd>

<dd>
<p><kbd>$order</kbd> campo de la base de datos por la que se debe ordenar la información. Por Defaul es ASC, pero si se antepone el signo - es de manera DESC</p>
</dd>
</dl>

<p>Petición</p>

<p><CODE>MÉTODO GET</CODE> <a href="http://187.217.219.55/cium/api/v1/SysModulo"><em>http://187.217.219.55/cium/api/v1/SysModulo</em></a></p>

<blockquote>
  <p><strong>Petición con parametros:</strong></p>
  
  <ul>
  <li><p><a href="http://187.217.219.55/cium/api/v1/SysModulo?pagina=1&amp;limite=5&amp;order=id"><em>http://187.217.219.55/cium/api/v1/SysModulo?pagina=1&amp;limite=5&amp;order=id</em></a> orden ASC</p></li>
  <li><p><a href="http://187.217.219.55/cium/api/v1/SysModulo?pagina=1&amp;limite=5&amp;order=-id"><em>http://187.217.219.55/cium/api/v1/SysModulo?pagina=1&amp;limite=5&amp;order=-id</em></a> orden DESC</p></li>
  </ul>
</blockquote>

<p>Respuesta:</p>

<pre><code>{
    "status": 200,
    "messages": "Operación realizada con exito",
    "data": [
        {
            "id": 1,
            "idPadre": 0,
            "nombre": "Dashboard",
            "controladorLaravel": "DashboardController",
            "vista": "1",
            "creadoAl": "2015-03-09 18:43:36",
            "modificadoAl": "2015-07-15 18:56:05",
            "borradoAl": null,
            "padres": null
        }
    ]
    "total": 1
}
</code></pre>

<blockquote>
  <p><strong>Nota</strong></p>
  
  <ul>
  <li><code>status</code> Estado de la petición </li>
  <li><code>messages</code> Mensaje de confirmacion o error</li>
  <li><code>data</code> Objeto con todos los resultados</li>
  <li><code>total</code> Total de registros devueltos</li>
  </ul>
</blockquote>

<p><HR></p>

<h3 id="get-id-show-11">3.2.2 GET/ {ID} (SHOW)</h3>

<p>Devuelve la información del registro especificado.</p>

<p>Petición</p>

<p><CODE>MÉTODO GET</CODE> <a href="http://187.217.219.55/cium/api/v1/SysModulo/%7bID%7d"><em>http://187.217.219.55/cium/api/v1/SysModulo/{ID}</em></a></p>

<blockquote>
  <p><strong>Ejemplo Obtener los datos del registro con id = 3</strong></p>
  
  <ul>
  <li><a href="http://187.217.219.55/cium/api/v1/SysModulo/3"><em>http://187.217.219.55/cium/api/v1/SysModulo/3</em></a> </li>
  </ul>
</blockquote>

<p>Respuesta</p>

<pre><code>{
    "status": 200,
    "messages": "Operación realizada con exito",
    "data": {
        "id": 3,
        "idPadre": 2,
        "nombre": "Indicadores",
        "controladorLaravel": "IndicadorController",
        "vista": "1",
        "creadoAl": "2015-03-09 18:49:13",
        "modificadoAl": "2015-03-09 20:15:56",
        "borradoAl": null,
        "padres": {
            "id": 2,
            "idPadre": 0,
            "nombre": "Catalogos",
            "controladorLaravel": "",
            "vista": "0",
            "creadoAl": "2015-03-09 18:48:06",
            "modificadoAl": "2015-04-10 18:52:30",
            "borradoAl": null
        }
    },
    "metodos": [
        {
            "id": 6,
            "idModulo": 3,
            "nombre": "Listar",
            "recurso": "index",
            "metodo": "get",
            "creadoAl": "2015-03-10 11:30:59",
            "modificadoAl": "2015-03-10 11:30:59",
            "borradoAl": null
        },
        {
            "id": 7,
            "idModulo": 3,
            "nombre": "Ver",
            "recurso": "show",
            "metodo": "get",
            "creadoAl": "2015-03-10 18:44:45",
            "modificadoAl": "2015-03-10 18:44:45",
            "borradoAl": null
        },
        {
            "id": 8,
            "idModulo": 3,
            "nombre": "Guardar",
            "recurso": "store",
            "metodo": "post",
            "creadoAl": "2015-03-10 18:47:44",
            "modificadoAl": "2015-03-10 18:47:44",
            "borradoAl": null
        },
        {
            "id": 9,
            "idModulo": 3,
            "nombre": "Modificar",
            "recurso": "update",
            "metodo": "put",
            "creadoAl": "2015-03-10 18:48:44",
            "modificadoAl": "2015-03-10 18:48:44",
            "borradoAl": null
        },
        {
            "id": 10,
            "idModulo": 3,
            "nombre": "Eliminar",
            "recurso": "destroy",
            "metodo": "delete",
            "creadoAl": "2015-03-10 18:49:04",
            "modificadoAl": "2015-03-10 18:49:04",
            "borradoAl": null
        }
    ]
}
</code></pre>

<blockquote>
  <p><strong>Nota</strong></p>
  
  <ul>
  <li><code>status</code> Estado de la petición </li>
  <li><code>messages</code> Mensaje de confirmacion o error</li>
  <li><code>data</code> Objeto con todos los resultados</li>
  </ul>
</blockquote>

<p><HR></p>

<h3 id="post-store-10">3.2.3 POST (STORE)</h3>

<p>Crear un nuevo registro en la base de datos con los datos enviados</p>

<p>REQUEST (SEND)</p>

<p>Recibe un input request tipo json de los datos a almacenar.</p>

<pre><code>{
    "id": 3,
    "idPadre": 2,
    "nombre": "Indicadores",
    "controladorLaravel": "IndicadorController",
    "vista": "1"
    "padres": {
        "id": 2,
        "idPadre": 0,
        "nombre": "Catalogos",
        "controladorLaravel": "",
        "vista": "0"            
    },
    "metodos": [
        {
            "id": 6,
            "idModulo": 3,
            "nombre": "Listar",
            "recurso": "index",
            "metodo": "get",
            "creadoAl": "2015-03-10 11:30:59",
            "modificadoAl": "2015-03-10 11:30:59",
            "borradoAl": null
        }
    ]
}
</code></pre>

<p>Petición</p>

<p><CODE>MÉTODO POST</CODE> <a href="http://187.217.219.55/cium/api/v1/SysModulo"><em>http://187.217.219.55/cium/api/v1/SysModulo</em></a></p>

<p>Respuesta</p>

<pre><code>{
    "status": 201,
    "messages": "Creado",
    "data": {
        "id": 3,
        "idPadre": 2,
        "nombre": "Indicadores",
        "controladorLaravel": "IndicadorController",
        "vista": "1",
        "creadoAl": "2015-03-09 18:49:13",
        "modificadoAl": "2015-03-09 20:15:56",
        "borradoAl": null
    }
}
</code></pre>

<blockquote>
  <p><strong>Nota</strong></p>
  
  <ul>
  <li><code>status</code> Estado de la petición </li>
  <li><code>messages</code> Mensaje de confirmacion o error</li>
  <li><code>data</code> Objeto con todos los resultados</li>
  </ul>
</blockquote>

<p><HR></p>

<h3 id="put-id-update-10">3.2.4 PUT/{ID} (UPDATE)</h3>

<p>Actualizar el registro especificado en el la base de datos</p>

<p>REQUEST (SEND)</p>

<p>Recibe un Input Request con el json de los datos</p>

<pre><code>{
    "id": 3,
    "idPadre": 2,
    "nombre": "Indicadores",
    "controladorLaravel": "IndicadorController",
    "vista": "1",
    "creadoAl": "2015-03-09 18:49:13",
    "modificadoAl": "2015-03-09 20:15:56",
    "borradoAl": null,
    "padres": {
        "id": 2,
        "idPadre": 0,
        "nombre": "Catalogos",
        "controladorLaravel": "",
        "vista": "0"            
    },
    "metodos": [
        {
            "id": 6,
            "idModulo": 3,
            "nombre": "Listar",
            "recurso": "index",
            "metodo": "get",
            "creadoAl": "2015-03-10 11:30:59",
            "modificadoAl": "2015-03-10 11:30:59",
            "borradoAl": null
        }
    ]
}
</code></pre>

<p>Petición</p>

<p><CODE>MÉTODO PUT</CODE> <a href="http://187.217.219.55/cium/api/v1/SysModulo/%7bID%7d"><em>http://187.217.219.55/cium/api/v1/SysModulo/{ID}</em></a></p>

<blockquote>
  <p><strong>Ejemplo actualizar el registro con id 3</strong></p>
  
  <ul>
  <li><a href="http://187.217.219.55/cium/api/v1/SysModulo/3"><em>http://187.217.219.55/cium/api/v1/SysModulo/3</em></a></li>
  </ul>
</blockquote>

<p>Respuesta</p>

<pre><code>{
    "status": 200,
    "messages": "Operación realizada con exito",
    "data": {
        "id": 3,
        "idPadre": 2,
        "nombre": "Indicadores",
        "controladorLaravel": "IndicadorController",
        "vista": "1",
        "creadoAl": "2015-03-09 18:49:13",
        "modificadoAl": "2015-03-09 20:15:56",
        "borradoAl": null
    }
}
</code></pre>

<blockquote>
  <p><strong>Nota</strong></p>
  
  <ul>
  <li><code>status</code> Estado de la petición </li>
  <li><code>messages</code> Mensaje de confirmacion o error</li>
  <li><code>data</code> Objeto con todos los resultados</li>
  </ul>
</blockquote>

<p><HR></p>

<h3 id="delete-id-delete-10">3.2.5 DELETE/{ID} (DELETE)</h3>

<p>Borra el registro especificado en el la base de datos</p>

<p>Petición</p>

<p><CODE>MÉTODO DELETE</CODE> <a href="http://187.217.219.55/cium/api/v1/SysModulo/%7bID%7d"><em>http://187.217.219.55/cium/api/v1/SysModulo/{ID}</em></a></p>

<blockquote>
  <p><strong>Ejemplo eliminar el registro con id 1</strong></p>
  
  <ul>
  <li><a href="http://187.217.219.55/cium/api/v1/SysModulo/1"><em>http://187.217.219.55/cium/api/v1/SysModulo/1</em></a></li>
  </ul>
</blockquote>

<p>Respuesta</p>

<pre><code>{
    "status": 200,
    "messages": "Operación realizada con exito",
    "data": {
        "id": 3,
        "idPadre": 2,
        "nombre": "Indicadores",
        "controladorLaravel": "IndicadorController",
        "vista": "1",
        "creadoAl": "2015-03-09 18:49:13",
        "modificadoAl": "2015-03-09 20:15:56",                
        "borradoAl": "2015-10-11 16:19:03"
    }
}
</code></pre>

<blockquote>
  <p><strong>Nota</strong></p>
  
  <ul>
  <li><code>status</code> Estado de la petición </li>
  <li><code>messages</code> Mensaje de confirmacion o error</li>
  <li><code>data</code> Objeto con todos los resultados</li>
  </ul>
</blockquote>

<hr>

<hr>

<h2 id="usuario">3.3 Usuario</h2>

<p style="text-align: justify;">
Usuario administra los usuarios que provienen de OAUTH2.0 para que puedan tener acceso al sistema. 
</p>

<p><HR></p>

<h3 id="get-index-12">3.3.1 GET (INDEX)</h3>

<p>Muestra una lista de los usuarios según los parámetros a procesar en la petición.</p>

<p>Parametros</p>

<dl>
<dt>Paginación</dt>
<dd>
<p><kbd>$pagina</kbd> número del puntero(offset) para la sentencia limit</p>
</dd>

<dd>
<p><kbd>$limite</kbd> número de filas a mostrar por página</p>
</dd>

<dt>Busqueda</dt>
<dd>
<p><kbd>$valor</kbd> string con el valor para hacer la busqueda</p>
</dd>

<dd>
<p><kbd>$order</kbd> campo de la base de datos por la que se debe ordenar la información. Por Defaul es ASC, pero si se antepone el signo - es de manera DESC</p>
</dd>
</dl>

<p>Petición</p>

<p><CODE>MÉTODO GET</CODE> <a href="http://187.217.219.55/cium/api/v1/SysUsuario"><em>http://187.217.219.55/cium/api/v1/SysUsuario</em></a></p>

<blockquote>
  <p><strong>Petición con parametros:</strong></p>
  
  <ul>
  <li><p><a href="http://187.217.219.55/cium/api/v1/SysUsuario?pagina=1&amp;limite=5&amp;order=id"><em>http://187.217.219.55/cium/api/v1/SysUsuario?pagina=1&amp;limite=5&amp;order=id</em></a> orden ASC</p></li>
  <li><p><a href="http://187.217.219.55/cium/api/v1/SysUsuario?pagina=1&amp;limite=5&amp;order=-id"><em>http://187.217.219.55/cium/api/v1/SysUsuario?pagina=1&amp;limite=5&amp;order=-id</em></a> orden DESC</p></li>
  </ul>
</blockquote>

<p>Respuesta:</p>

<pre><code>{
    "status": 200,
    "messages": "Operación realizada con exito",
    "data": [
        {
            "id": 1,
            "username": "root",
            "email": "root@localhost",
            "permissions": [],
            "activated": true,
            "activated_at": null,
            "last_login": "2015-03-10 16:26:16",
            "nombres": "root",
            "apellidoPaterno": "super",
            "apellidoMaterno": "usuario",
            "cargo": "Root admin",
            "nivel": null,
            "telefono": "",
            "avatar": null,
            "creadoAl": "2014-06-13 18:53:24",
            "modificadoAl": "2015-08-04 20:29:17",
            "borradoAl": null,
            "throttles": {
                "id": 1,
                "user_id": 1,
                "ip_address": null,
                "attempts": 0,
                "suspended": false,
                "banned": false,
                "last_attempt_at": null,
                "suspended_at": null,
                "banned_at": null
            }
        }
    ]
    "total": 1
}
</code></pre>

<blockquote>
  <p><strong>Nota</strong></p>
  
  <ul>
  <li><code>status</code> Estado de la petición </li>
  <li><code>messages</code> Mensaje de confirmacion o error</li>
  <li><code>data</code> Objeto con todos los resultados</li>
  <li><code>total</code> Total de registros devueltos</li>
  <li><code>permissions</code> Para denegar o asingar permisos especiales sobre un grupo</li>
  <li><code>throttles</code> Si el usuario esta baneado, no se usa</li>
  </ul>
</blockquote>

<p><HR></p>

<h3 id="get-id-show-12">3.3.2 GET/ {ID} (SHOW)</h3>

<p>Devuelve la información del registro especificado.</p>

<p>Petición</p>

<p><CODE>MÉTODO GET</CODE> <a href="http://187.217.219.55/cium/api/v1/SysUsuario/%7bID%7d"><em>http://187.217.219.55/cium/api/v1/SysUsuario/{ID}</em></a></p>

<blockquote>
  <p><strong>Ejemplo Obtener los datos del registro con id = 3</strong></p>
  
  <ul>
  <li><a href="http://187.217.219.55/cium/api/v1/SysUsuario/3"><em>http://187.217.219.55/cium/api/v1/SysUsuario/3</em></a> </li>
  </ul>
</blockquote>

<p>Respuesta</p>

<pre><code>{
    "status": 200,
    "messages": "Operación realizada con exito",
    "data": {
        "id": 3,
        "username": "Admin",
        "email": "ramirez.esquinca@gmail.com",
        "permissions": [],
        "activated": true,
        "activated_at": null,
        "last_login": "2015-10-11 19:05:39",
        "nombres": "Eliecer",
        "apellidoPaterno": "ramirez",
        "apellidoMaterno": "esquinca",
        "cargo": "Admin",
        "nivel": 1,
        "telefono": "",
        "avatar": "http://localhost/SSA_MATERIAL/CIUM/assets/img/user.png",
        "creadoAl": "2015-03-13 17:50:38",
        "modificadoAl": "2015-10-11 19:05:39",
        "borradoAl": null,
        "UsuarioZona": [],
        "grupos": [
            {
                "id": 1,
                "name": "Admin",
                "permissions": {
                    "IndicadorController.index": 1,
                    "IndicadorController.show": 1,
                    "IndicadorController.store": 1,
                    "IndicadorController.update": 1,
                    "IndicadorController.destroy": 1
                }
                "creadoAl": "2015-03-10 17:36:15",
                "modificadoAl": "2015-09-01 14:23:18",
                "borradoAl": null,
                "pivot": {
                    "usuario_id": 3,
                    "grupo_id": 1
                }
            }
        ]
    }
}
</code></pre>

<blockquote>
  <p><strong>Nota</strong></p>
  
  <ul>
  <li><code>"UsuarioZona": []</code> Nivel 1 estatal</li>
  <li><code>"UsuarioZona": [{
  "id": "PICHUCALCO",
  "nombre": "PICHUCALCO"
  }]</code> Nivel 2 jurisdiccional</li>
  <li><code>"UsuarioZona": [{
      "id": 1,
      "idZona": 1,
      "idUsuario": 3,
      "nombre": "EXCLUSIVO CHAMULA",
      "creadoAl": "0000-00-00 00:00:00",
      "modificadoAl": "0000-00-00 00:00:00",
      "borradoAl": null
    }]</code> Nivel 3 zonal</li>
  </ul>
  
  <p><strong>Nota</strong></p>
  
  <ul>
  <li><code>status</code> Estado de la petición </li>
  <li><code>messages</code> Mensaje de confirmacion o error</li>
  <li><code>data</code> Objeto con todos los resultados</li>
  </ul>
</blockquote>

<p><HR></p>

<h3 id="post-store-11">3.3.3 POST (STORE)</h3>

<p>Crear un nuevo registro en la base de datos con los datos enviados</p>

<p>REQUEST (SEND)</p>

<p>Recibe un input request tipo json de los datos a almacenar.</p>

<pre><code>{
    "id": 3,
    "email": "ramirez.esquinca@gmail.com",
    "permissions": {},
    "nivel": 1,
    "avatar": "http://localhost/SSA_MATERIAL/CIUM/assets/img/user.png",
    "UsuarioZona": [],
    "grupos": [1]
}
</code></pre>

<blockquote>
  <p><strong>Nota</strong></p>
  
  <ul>
  <li><code>"UsuarioZona": []</code> Nivel 1 estatal</li>
  <li><code>"UsuarioZona": [{
  "id": "PICHUCALCO",
  "nombre": "PICHUCALCO"
  }]</code> Nivel 2 jurisdiccional</li>
  <li><code>"UsuarioZona": [{
      "id": 1,
      "idZona": 1,
      "idUsuario": 3,
      "nombre": "EXCLUSIVO CHAMULA",
      "creadoAl": "0000-00-00 00:00:00",
      "modificadoAl": "0000-00-00 00:00:00",
      "borradoAl": null
    }]</code> Nivel 3 zonal</li>
  </ul>
</blockquote>

<p>Petición</p>

<p><CODE>MÉTODO POST</CODE> <a href="http://187.217.219.55/cium/api/v1/SysUsuario"><em>http://187.217.219.55/cium/api/v1/SysUsuario</em></a></p>

<p>Respuesta</p>

<pre><code>{
    "status": 201,
    "messages": "Creado",
    "data": {
        "id": 3,
        "username": "Admin",
        "email": "ramirez.esquinca@gmail.com",
        "permissions": [],
        "activated": true,
        "activated_at": null,
        "last_login": "2015-10-11 19:19:57",
        "nombres": "Eliecer",
        "apellidoPaterno": "ramirez",
        "apellidoMaterno": "esquinca",
        "cargo": "Admin",
        "nivel": 1,
        "telefono": "",
        "avatar": "http://localhost/SSA_MATERIAL/CIUM/assets/img/user.png",
        "creadoAl": "2015-03-13 17:50:38",
        "modificadoAl": "2015-10-11 19:19:57",
        "borradoAl": null
    }
}
</code></pre>

<blockquote>
  <p><strong>Nota</strong></p>
  
  <ul>
  <li><code>status</code> Estado de la petición </li>
  <li><code>messages</code> Mensaje de confirmacion o error</li>
  <li><code>data</code> Objeto con todos los resultados</li>
  </ul>
</blockquote>

<p><HR></p>

<h3 id="put-id-update-11">3.3.4 PUT/{ID} (UPDATE)</h3>

<p>Actualizar el registro especificado en el la base de datos</p>

<p>REQUEST (SEND)</p>

<p>Recibe un Input Request con el json de los datos</p>

<pre><code>{
    "id": 3,
    "email": "ramirez.esquinca@gmail.com",
    "permissions": {},
    "nivel": 1,
    "avatar": "http://localhost/SSA_MATERIAL/CIUM/assets/img/user.png",
    "creadoAl": "2015-03-13 17:50:38",
    "modificadoAl": "2015-10-11 19:05:39",
    "borradoAl": null,
    "UsuarioZona": [],
    "grupos": [1]
}
</code></pre>

<blockquote>
  <p><strong>Nota</strong></p>
  
  <ul>
  <li><code>"UsuarioZona": []</code> Nivel 1 estatal</li>
  <li><code>"UsuarioZona": [{
  "id": "PICHUCALCO",
  "nombre": "PICHUCALCO"
  }]</code> Nivel 2 jurisdiccional</li>
  <li><code>"UsuarioZona": [{
      "id": 1,
      "idZona": 1,
      "idUsuario": 3,
      "nombre": "EXCLUSIVO CHAMULA",
      "creadoAl": "0000-00-00 00:00:00",
      "modificadoAl": "0000-00-00 00:00:00",
      "borradoAl": null
    }]</code> Nivel 3 zonal</li>
  </ul>
</blockquote>

<p>Petición</p>

<p><CODE>MÉTODO PUT</CODE> <a href="http://187.217.219.55/cium/api/v1/SysUsuario/%7bID%7d"><em>http://187.217.219.55/cium/api/v1/SysUsuario/{ID}</em></a></p>

<blockquote>
  <p><strong>Ejemplo actualizar el registro con id 3</strong></p>
  
  <ul>
  <li><a href="http://187.217.219.55/cium/api/v1/SysUsuario/3"><em>http://187.217.219.55/cium/api/v1/SysUsuario/3</em></a></li>
  </ul>
</blockquote>

<p>Respuesta</p>

<pre><code>{
    "status": 200,
    "messages": "Operación realizada con exito",
    "data": {
        "id": 3,
        "username": "Admin",
        "email": "ramirez.esquinca@gmail.com",
        "permissions": [],
        "activated": true,
        "activated_at": null,
        "last_login": "2015-10-11 19:19:57",
        "nombres": "Eliecer",
        "apellidoPaterno": "ramirez",
        "apellidoMaterno": "esquinca",
        "cargo": "Admin",
        "nivel": 1,
        "telefono": "",
        "avatar": "http://localhost/SSA_MATERIAL/CIUM/assets/img/user.png",
        "creadoAl": "2015-03-13 17:50:38",
        "modificadoAl": "2015-10-11 19:19:57",
        "borradoAl": null
    }
}
</code></pre>

<blockquote>
  <p><strong>Nota</strong></p>
  
  <ul>
  <li><code>status</code> Estado de la petición </li>
  <li><code>messages</code> Mensaje de confirmacion o error</li>
  <li><code>data</code> Objeto con todos los resultados</li>
  </ul>
</blockquote>

<p><HR></p>

<h3 id="delete-id-delete-11">3.3.5 DELETE/{ID} (DELETE)</h3>

<p>Borra el registro especificado en el la base de datos</p>

<p>Petición</p>

<p><CODE>MÉTODO DELETE</CODE> <a href="http://187.217.219.55/cium/api/v1/SysUsuario/%7bID%7d"><em>http://187.217.219.55/cium/api/v1/SysUsuario/{ID}</em></a></p>

<blockquote>
  <p><strong>Ejemplo eliminar el registro con id 1</strong></p>
  
  <ul>
  <li><a href="http://187.217.219.55/cium/api/v1/SysUsuario/1"><em>http://187.217.219.55/cium/api/v1/SysUsuario/1</em></a></li>
  </ul>
</blockquote>

<p>Respuesta</p>

<pre><code>{
    "status": 200,
    "messages": "Operación realizada con exito",
    "data": {
        "id": 3,
        "username": "Admin",
        "email": "ramirez.esquinca@gmail.com",
        "permissions": [],
        "activated": true,
        "activated_at": null,
        "last_login": "2015-10-11 19:19:57",
        "nombres": "Eliecer",
        "apellidoPaterno": "ramirez",
        "apellidoMaterno": "esquinca",
        "cargo": "Admin",
        "nivel": 1,
        "telefono": "",
        "avatar": "http://localhost/SSA_MATERIAL/CIUM/assets/img/user.png",
        "creadoAl": "2015-03-13 17:50:38",
        "modificadoAl": "2015-10-11 19:19:57",            
        "borradoAl": "2015-10-11 16:19:03"
    }
}
</code></pre>

<blockquote>
  <p><strong>Nota</strong></p>
  
  <ul>
  <li><code>status</code> Estado de la petición </li>
  <li><code>messages</code> Mensaje de confirmacion o error</li>
  <li><code>data</code> Objeto con todos los resultados</li>
  </ul>
</blockquote>

<hr>

<hr>


	
			
              </div>
              
            </div>
          </div>
        </div>
      </div>
      <footer class="app-footer">
        <div class="container-fluid">
          <div class="row">
            <div class="col-xs-4"><img src="./images/secretaria-de-salud.png"  height="30px" alt="" /></div>
            <div class="col-xs-4">
              <p class="hidden-xs">
                Secretaría de Salud, Gobierno del Estado de Chiapas | CIUM
              </p>
            </div>
            <div class="col-xs-4" align="right"><img src="./images/chiapas-nos-une.png"  height="30px" alt="" /></div>
          </div>
        </div>
      </footer>
    </div>
    <!-- /#page-content-wrapper -->

  </div>
</body>
</html>
